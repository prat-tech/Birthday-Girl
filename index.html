<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Happy Birthday üíñ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --accent: #ff9a9e;
      --accent-2: #fecfef;
      --yellow: #ffdd57;
    }

    /* THEME BACKGROUNDS */
    body {
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      min-height: 100vh;
      color: #fff;
      background-size: 400% 400%;
      animation: bgMove 15s ease infinite;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      overflow-x: hidden;
      cursor: none;
    }

    body.theme-aurora {
      background: linear-gradient(-45deg, #ff6ec4, #7873f5, #42e695, #fddb92);
    }
    body.theme-cute {
      background: linear-gradient(135deg, #ffb6c1, #ff9a9e, #fecfef, #fdfbfb);
    }
    body.theme-elegant {
      background: radial-gradient(circle at top, #ffffff, #2c3e50, #000000);
    }
    body.theme-pink {
      background: linear-gradient(-45deg, #ff9a9e, #ff758c, #ff7eb3, #ffdde1);
    }

    @keyframes bgMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Preloader */
    #preloader {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at top, #ff9a9e 0, #2b1e47 55%, #000 100%);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      color: #fff;
      transition: opacity 0.5s ease;
    }

    .loader-heart {
      font-size: 3rem;
      animation: loaderBeat 1.2s ease-in-out infinite;
    }

    @keyframes loaderBeat {
      0%, 100% { transform: scale(1); }
      40% { transform: scale(1.22); }
      70% { transform: scale(0.96); }
    }

    .loader-text {
      margin-top: 10px;
      font-size: 0.95rem;
      opacity: 0.8;
    }

    .loader-bar {
      margin-top: 18px;
      width: 160px;
      height: 5px;
      border-radius: 999px;
      background: rgba(255,255,255,0.2);
      overflow: hidden;
      position: relative;
    }

    .loader-bar::after {
      content: "";
      position: absolute;
      inset: 0;
      width: 60%;
      background: linear-gradient(90deg, #ffdd57, #ff9a9e, #fff);
      animation: loadingBar 1.3s linear infinite;
    }

    @keyframes loadingBar {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .birthday-container {
      width: 100%;
      max-width: 900px;
      background: rgba(0, 0, 0, 0.6);
      border-radius: 24px;
      padding: 28px 20px 36px 20px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(16px);
      position: relative;
      overflow: hidden;
      opacity: 0;
      transform: translateY(20px) scale(0.98);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .birthday-container.show {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    .floating-circle {
      position: absolute;
      border-radius: 50%;
      opacity: 0.18;
      filter: blur(1px);
      animation: float 18s linear infinite;
      z-index: -1;
    }

    .floating-circle:nth-child(1) {
      width: 200px; height: 200px;
      background: #ff6ec4;
      top: -40px; left: -60px;
    }
    .floating-circle:nth-child(2) {
      width: 260px; height: 260px;
      background: #42e695;
      bottom: -80px; right: -90px;
      animation-duration: 22s;
    }

    @keyframes float {
      0% { transform: translateY(0) translateX(0); }
      50% { transform: translateY(-40px) translateX(20px); }
      100% { transform: translateY(0) translateX(0); }
    }

    .sparkle {
      position: fixed;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: radial-gradient(circle, #fff 0, #fff 50%, transparent 70%);
      opacity: 0.7;
      pointer-events: none;
      animation: sparkleMove 3s linear forwards;
      z-index: 1;
    }

    @keyframes sparkleMove {
      0% { transform: translateY(0) scale(1); opacity: 0.8; }
      100% { transform: translateY(-120px) scale(0.3); opacity: 0; }
    }

    .firefly {
      position: fixed;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: radial-gradient(circle, #fff59d 0, #ffeb3b 40%, transparent 70%);
      opacity: 0.8;
      pointer-events: none;
      animation: fireflyMove 6s ease-in-out infinite;
      mix-blend-mode: screen;
      z-index: 1;
    }

    @keyframes fireflyMove {
      0% { transform: translate(0,0); opacity: 0.6; }
      50% { transform: translate(40px,-30px); opacity: 1; }
      100% { transform: translate(-20px,10px); opacity: 0.3; }
    }

    .section {
      text-align: center;
      margin-bottom: 28px;
    }

    .section-title {
      font-size: 1.6rem;
      font-weight: 700;
      letter-spacing: 1px;
      margin-bottom: 12px;
    }

    .hero-title {
      font-size: 2.6rem;
      font-weight: 700;
      margin-bottom: 12px;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
      animation: heroPop 0.8s ease-out;
      position: relative;
      cursor: pointer;
    }

    @keyframes heroPop {
      0% { transform: translateY(15px) scale(0.96); opacity: 0; }
      100% { transform: translateY(0) scale(1); opacity: 1; }
    }

    /* Sparkling name */
    .highlight-name {
      background: linear-gradient(120deg, #ffe082, #ffffff, #ffcc80);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      position: relative;
      animation: shimmer 2.5s linear infinite;
    }

    @keyframes shimmer {
      0% { background-position: 0% 50%; }
      100% { background-position: 200% 50%; }
    }

    .hero-subtitle {
      font-size: 1rem;
      max-width: 600px;
      margin: 0 auto 20px auto;
      line-height: 1.7;
      opacity: 0.9;
    }

    .shayari {
      font-size: 1.05rem;
      line-height: 1.8;
      max-width: 650px;
      margin: 0 auto 24px auto;
      color: #ffeef8;
    }

    .btn-row {
      display: flex;
      justify-content: center;
      gap: 16px;
      flex-wrap: wrap;
      margin-top: 8px;
    }

    .btn {
      border: none;
      outline: none;
      padding: 12px 22px;
      border-radius: 1000px;
      font-size: 0.95rem;
      font-weight: 600;
      letter-spacing: 0.5px;
      cursor: pointer;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: #3d1547;
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.25);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: transform 0.18s ease, box-shadow 0.18s ease, filter 0.18s ease;
    }

    .btn span {
      font-size: 1.1rem;
    }

    .btn:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.35);
      filter: brightness(1.05);
    }

    .btn:active {
      transform: translateY(0) scale(0.98);
      box-shadow: 0 7px 16px rgba(0, 0, 0, 0.35);
    }

    .btn.small-btn {
      padding: 6px 14px;
      font-size: 0.8rem;
    }

    .tagline {
      font-size: 0.85rem;
      opacity: 0.75;
      margin-top: 4px;
    }

    .hidden { display: none; }

    .visible {
      display: block;
      animation: fadeInUp 0.8s ease-out forwards;
    }

    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(30px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    /* Theme switcher */
    .theme-switcher {
      margin-top: 14px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      font-size: 0.8rem;
      opacity: 0.9;
    }

    .theme-label {
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .theme-dot {
      border: none;
      outline: none;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      cursor: pointer;
      border: 2px solid rgba(255,255,255,0.5);
      box-shadow: 0 0 8px rgba(0,0,0,0.4);
    }

    .theme-dot[data-theme="aurora"] {
      background: linear-gradient(135deg, #ff6ec4, #42e695);
    }
    .theme-dot[data-theme="cute"] {
      background: linear-gradient(135deg, #ffb6c1, #fecfef);
    }
    .theme-dot[data-theme="elegant"] {
      background: linear-gradient(135deg, #ffffff, #2c3e50);
    }
    .theme-dot[data-theme="pink"] {
      background: linear-gradient(135deg, #ff9a9e, #ff7eb3);
    }

    .theme-dot.active {
      box-shadow: 0 0 10px #fff;
      transform: scale(1.05);
    }

    /* Countdown */
    .countdown-wrapper {
      margin-top: 18px;
      padding: 10px 14px;
      border-radius: 16px;
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid rgba(255, 255, 255, 0.25);
      max-width: 420px;
      margin-left: auto;
      margin-right: auto;
    }

    .countdown-title {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      opacity: 0.85;
      margin-bottom: 8px;
    }

    .countdown-grid {
      display: flex;
      justify-content: center;
      gap: 10px;
    }

    .count-box {
      min-width: 60px;
      padding: 6px 6px 8px;
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.18);
    }

    .count-num {
      font-size: 1.1rem;
      font-weight: 700;
      display: block;
    }

    .count-label {
      font-size: 0.7rem;
      opacity: 0.8;
    }

    .countdown-finished {
      margin-top: 8px;
      font-size: 0.9rem;
      font-weight: 600;
      color: #ffeb3b;
    }

    /* HEART SECTION */
    .heart-section { margin-top: 18px; }

    .love-card {
      max-width: 680px;
      margin: 0 auto 18px auto;
      padding: 24px 20px 20px;
      border-radius: 24px;
      background:
        radial-gradient(circle at top left, rgba(255, 255, 255, 0.14), transparent 55%),
        rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.25);
      box-shadow: 0 18px 35px rgba(0, 0, 0, 0.5);
      position: relative;
      overflow: hidden;
    }

    .love-card::before {
      content: "";
      position: absolute;
      width: 220px;
      height: 220px;
      background: radial-gradient(circle at center, rgba(255, 64, 129, 0.9), rgba(255, 8, 68, 0.1));
      opacity: 0.7;
      filter: blur(6px);
      top: -60px;
      right: -40px;
      z-index: 0;
    }

    .love-card-inner {
      position: relative;
      z-index: 1;
    }

    .big-heart-icon {
      font-size: 2.8rem;
      margin-bottom: 6px;
      animation: softBeat 1.4s ease-in-out infinite;
    }

    @keyframes softBeat {
      0%, 100% { transform: scale(1); }
      40% { transform: scale(1.18); }
      70% { transform: scale(0.96); }
    }

    .heart-heading {
      font-size: 1.25rem;
      font-weight: 700;
      margin-bottom: 6px;
    }

    .heart-subline {
      font-size: 0.85rem;
      opacity: 0.8;
      margin-bottom: 12px;
    }

    /* Magic ink line */
    .magic-ink {
      font-size: 0.95rem;
      margin-bottom: 12px;
      min-height: 1.2em;
      text-align: left;
      opacity: 0.9;
      font-style: italic;
      white-space: pre-line;
    }

    .heart-text-new {
      font-size: 1rem;
      line-height: 1.8;
      text-align: left;
      white-space: pre-line;
    }

    .heart-text-new strong {
      color: #ffe082;
    }

    .message-caption {
      font-size: 0.95rem;
      opacity: 0.9;
      max-width: 600px;
      margin: 10px auto 14px auto;
    }

    /* Shagun Meter */
    .meter-card {
      max-width: 680px;
      margin: 8px auto 18px;
      padding: 16px 16px 14px;
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.22);
    }

    .meter-title {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .meter-row {
      display: grid;
      grid-template-columns: 90px 1fr auto;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
      font-size: 0.85rem;
    }

    .meter-label {
      text-align: left;
      opacity: 0.9;
    }

    .meter-bar {
      height: 6px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.12);
      overflow: hidden;
    }

    .meter-bar-fill {
      height: 100%;
      width: 0;
      border-radius: inherit;
      background: linear-gradient(90deg, #ffeb3b, #ff9100, #ff1744);
      box-shadow: 0 0 10px rgba(255, 193, 7, 0.8);
      animation: meterFill 1.4s ease-out forwards;
    }

    .meter-score {
      font-size: 0.8rem;
      opacity: 0.9;
    }

    @keyframes meterFill {
      from { width: 0; }
      to { width: var(--fill, 100%); }
    }

    /* Compliments */
    .compliments-card {
      max-width: 680px;
      margin: 0 auto 20px;
      padding: 14px 16px 12px;
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.18);
    }

    .compliments-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
    }

    .compliments-title {
      font-size: 0.95rem;
      font-weight: 600;
    }

    .compliments-body {
      margin-top: 4px;
    }

    .compliment-text {
      font-size: 0.9rem;
      line-height: 1.6;
      margin-bottom: 8px;
      min-height: 40px;
    }

    .compliment-nav {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
      font-size: 0.8rem;
    }

    .nav-arrow {
      border: none;
      outline: none;
      width: 26px;
      height: 26px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.12);
      color: #fff;
      cursor: pointer;
    }

    .dots {
      display: flex;
      gap: 4px;
      align-items: center;
    }

    .dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.25);
    }

    .dot.active {
      background: #ffeb3b;
      box-shadow: 0 0 6px rgba(255, 235, 59, 0.8);
    }

    /* Wish Card */
    .wish-card {
      max-width: 680px;
      margin: 0 auto 22px;
      padding: 16px 16px 14px;
      border-radius: 20px;
      background: rgba(0, 0, 0, 0.55);
      border: 1px solid rgba(255, 255, 255, 0.22);
    }

    .wish-title {
      font-size: 0.95rem;
      font-weight: 600;
      margin-bottom: 6px;
    }

    .wish-text {
      font-size: 0.8rem;
      opacity: 0.8;
      margin-bottom: 8px;
    }

    .wish-input {
      width: 100%;
      min-height: 60px;
      border-radius: 10px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      background: rgba(0, 0, 0, 0.4);
      color: #fff;
      padding: 8px 10px;
      font-family: inherit;
      font-size: 0.85rem;
      resize: vertical;
      outline: none;
    }

    .wish-input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }

    .wish-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-top: 8px;
      font-size: 0.78rem;
      opacity: 0.85;
    }

    .wish-status {
      text-align: right;
      flex: 1;
    }

    /* COOL AUDIO BOX */
    .audio-box {
      margin: 0 auto 20px auto;
      max-width: 460px;
      padding: 14px 14px 12px;
      border-radius: 20px;
      background: radial-gradient(circle at top left, rgba(255, 255, 255, 0.12), transparent 55%),
                  linear-gradient(135deg, rgba(255, 154, 158, 0.35), rgba(250, 208, 196, 0.15));
      border: 1px solid rgba(255, 255, 255, 0.45);
      box-shadow: 0 0 25px rgba(255, 154, 158, 0.6);
      backdrop-filter: blur(10px);
    }

    .audio-header-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .audio-pill {
      font-size: 0.75rem;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.45);
      border: 1px solid rgba(255, 255, 255, 0.25);
      letter-spacing: 0.5px;
      text-transform: uppercase;
    }

    .audio-playing-dot {
      width: 9px;
      height: 9px;
      border-radius: 50%;
      background: #4caf50;
      box-shadow: 0 0 10px #4caf50;
      position: relative;
    }

    .audio-playing-dot::after {
      content: "";
      position: absolute;
      inset: -4px;
      border-radius: 50%;
      border: 1px solid rgba(76, 175, 80, 0.5);
      animation: pulseDot 1.4s ease-out infinite;
    }

    @keyframes pulseDot {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: scale(1.6); opacity: 0; }
    }

    .audio-main {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 8px;
    }

    .audio-icon-circle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: radial-gradient(circle at top, #ffe082, #ff8a80);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 18px rgba(255, 138, 128, 0.8);
      font-size: 1.2rem;
    }

    .audio-info {
      text-align: left;
      flex: 1;
    }

    .audio-title {
      font-size: 0.95rem;
      font-weight: 600;
      margin-bottom: 2px;
    }

    .audio-sub {
      font-size: 0.78rem;
      opacity: 0.85;
    }

    audio {
      width: 100%;
      margin-top: 6px;
      filter: drop-shadow(0 0 8px rgba(0, 0, 0, 0.4));
    }

    .gifts-section { margin-top: 10px; }

    /* Secret Puzzle */
    .puzzle-card {
      max-width: 480px;
      margin: 0 auto 18px;
      padding: 12px 14px;
      border-radius: 18px;
      background: rgba(0, 0, 0, 0.45);
      border: 1px solid rgba(255, 255, 255, 0.22);
    }

    .puzzle-title {
      font-size: 0.95rem;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .puzzle-text {
      font-size: 0.8rem;
      opacity: 0.85;
      margin-bottom: 8px;
    }

    .puzzle-dots {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 8px;
    }

    .puzzle-dot {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.35);
      cursor: pointer;
      transition: transform 0.15s ease, background 0.15s ease, box-shadow 0.15s ease;
    }

    .puzzle-dot.active {
      background: #ffeb3b;
      box-shadow: 0 0 12px rgba(255, 235, 59, 0.9);
      transform: scale(1.1);
    }

    .puzzle-heart {
      font-size: 1.6rem;
      margin-bottom: 6px;
      animation: softBeat 1.4s ease-in-out infinite;
    }

    .puzzle-message {
      font-size: 0.85rem;
      line-height: 1.5;
    }

    /* Slideshow */
    .slideshow {
      max-width: 520px;
      margin: 10px auto 18px;
      border-radius: 20px;
      overflow: hidden;
      position: relative;
      border: 1px solid rgba(255,255,255,0.3);
      box-shadow: 0 12px 30px rgba(0,0,0,0.4);
      background: rgba(0,0,0,0.7);
    }

    .slide {
      position: absolute;
      inset: 0;
      opacity: 0;
      transition: opacity 0.8s ease;
    }

    .slide.active {
      opacity: 1;
      position: relative;
    }

    .slide img {
      width: 100%;
      height: auto;
      max-height: 260px;
      object-fit: contain;
      display: block;
    }

    .slide-caption {
      font-size: 0.85rem;
      padding: 6px 10px 10px;
      background: rgba(0,0,0,0.6);
      text-align: left;
    }

    .gallery-wrapper {
      margin-top: 8px;
      overflow-x: auto;
      padding-bottom: 4px;
      scroll-snap-type: x mandatory;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 12px;
      min-width: 100%;
    }

    @media (max-width: 600px) {
      .gallery {
        display: flex;
        gap: 10px;
        scroll-snap-type: x mandatory;
      }
      .photo-card {
        min-width: 75%;
        scroll-snap-align: center;
      }
    }

    .photo-card {
      position: relative;
      overflow: hidden;
      border-radius: 18px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.18);
      box-shadow: 0 8px 22px rgba(0, 0, 0, 0.4);
      transform: translateY(20px);
      opacity: 0;
      animation: fadeUpSmall 0.7s ease forwards;
    }

    .photo-card:nth-child(1) { animation-delay: 0.05s; }
    .photo-card:nth-child(2) { animation-delay: 0.15s; }
    .photo-card:nth-child(3) { animation-delay: 0.25s; }
    .photo-card:nth-child(4) { animation-delay: 0.35s; }

    @keyframes fadeUpSmall {
      to { opacity: 1; transform: translateY(0); }
    }

    .photo-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      display: block;
      transition: transform 0.35s ease;
    }

    .photo-card:hover img { transform: scale(1.08); }

    .photo-caption {
      font-size: 0.8rem;
      padding: 6px 9px 8px 9px;
      text-align: left;
      background: linear-gradient(to top, rgba(0, 0, 0, 0.6), transparent);
    }

    .photo-caption span {
      font-weight: 600;
      color: #ffecd2;
    }

    .footer-note {
      margin-top: 16px;
      font-size: 0.8rem;
      opacity: 0.7;
    }

    .floating-heart {
      position: fixed;
      bottom: -20px;
      font-size: 20px;
      pointer-events: none;
      animation: floatUp 3s ease-out forwards;
      z-index: 999;
    }

    @keyframes floatUp {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-160px) translateX(-20px) scale(1.6); opacity: 0; }
    }

    .confetti-piece {
      position: fixed;
      width: 8px;
      height: 14px;
      background: linear-gradient(135deg, #ff9a9e, #fecfef, #f6d365);
      top: -20px;
      border-radius: 4px;
      opacity: 0.95;
      pointer-events: none;
      animation: confettiFall 3s linear forwards;
      z-index: 999;
    }

    @keyframes confettiFall {
      0% { transform: translateY(0) rotate(0deg); }
      100% { transform: translateY(120vh) rotate(360deg); opacity: 0; }
    }

    .star {
      position: fixed;
      width: 3px;
      height: 12px;
      border-radius: 999px;
      background: linear-gradient(to bottom, #fff, #ffeb3b);
      top: -20px;
      pointer-events: none;
      opacity: 0.9;
      animation: starFall 1.8s linear forwards;
      z-index: 998;
    }

    @keyframes starFall {
      0% { transform: translateY(0) translateX(0); opacity: 1; }
      100% { transform: translateY(110vh) translateX(-20px); opacity: 0; }
    }

    /* Secret note overlay */
    .secret-note {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 2000;
    }

    .secret-note-inner {
      background: rgba(0, 0, 0, 0.9);
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.25);
      padding: 18px 20px 14px;
      max-width: 360px;
      text-align: center;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.7);
      animation: fadeInUp 0.4s ease-out;
    }

    .secret-note-inner h3 {
      margin-bottom: 8px;
      font-size: 1.1rem;
    }

    .secret-note-inner p {
      font-size: 0.9rem;
      line-height: 1.6;
      margin-bottom: 10px;
    }

    .secret-note-inner button {
      margin-top: 4px;
    }

    .floating-msg {
      position: fixed;
      font-size: 0.8rem;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.25);
      pointer-events: none;
      animation: floatMsg 2.2s ease-out forwards;
      z-index: 1500;
      max-width: 220px;
    }

    @keyframes floatMsg {
      0% { transform: translateY(0) scale(1); opacity: 0; }
      10% { opacity: 1; }
      100% { transform: translateY(-60px) scale(0.95); opacity: 0; }
    }

    .signature {
      margin-top: 18px;
      font-size: 0.8rem;
      opacity: 0.8;
      text-align: center;
    }

    .signature span {
      display: inline-block;
      white-space: nowrap;
      overflow: hidden;
      border-right: 1px solid rgba(255, 255, 255, 0.6);
      animation: typeIn 3s steps(30, end) forwards;
    }

    @keyframes typeIn {
      0% { width: 0; }
      100% { width: 100%; }
    }

    .cursor-dot {
      position: fixed;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      border: 2px solid rgba(255,255,255,0.9);
      pointer-events: none;
      transform: translate(-50%, -50%);
      transition: transform 0.05s linear, width 0.2s ease, height 0.2s ease, border-color 0.2s ease;
      z-index: 10000;
      mix-blend-mode: screen;
    }

    .cursor-dot.active {
      width: 26px;
      height: 26px;
      border-color: #ffdd57;
    }

    /* PREMIUM BALLOONS */
    .balloon {
      position: fixed;
      bottom: -120px;
      width: 55px;
      height: 75px;
      border-radius: 50% 50% 45% 45%;
      background: var(--balloon-color);
      box-shadow: 0 15px 25px rgba(0,0,0,0.35);
      animation: balloonFloat 6s ease-in forwards;
      z-index: 999;
      transform-origin: center;
    }

    .balloon::before {
      content: "";
      position: absolute;
      top: 10px;
      left: 50%;
      width: 18px;
      height: 18px;
      transform: translateX(-50%);
      border-radius: 50%;
      background: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.9), transparent 70%);
    }

    @keyframes balloonFloat {
      0% {
        transform: translateY(0) translateX(0) rotate(0deg);
        opacity: 1;
      }
      40% {
        transform: translateY(-40vh) translateX(-12px) rotate(3deg);
      }
      80% {
        transform: translateY(-80vh) translateX(14px) rotate(-3deg);
      }
      100% {
        transform: translateY(-120vh);
        opacity: 0;
      }
    }

    /* Wavy string */
    .balloon-string {
      position: absolute;
      left: 50%;
      bottom: -70px;
      width: 2px;
      height: 70px;
      transform: translateX(-50%);
    }

    .balloon-string svg {
      width: 2px;
      height: 70px;
      overflow: visible;
    }

    .balloon-string path {
      stroke: rgba(255,255,255,0.8);
      stroke-width: 2;
      fill: none;
      stroke-linecap: round;
      animation: wiggle 2s ease-in-out infinite;
    }

    @keyframes wiggle {
      0% { transform: translateX(0); }
      50% { transform: translateX(3px); }
      100% { transform: translateX(0); }
    }

    /* Heart particles */
    .heart-particle {
      position: fixed;
      font-size: 12px;
      pointer-events: none;
      animation: heartExplode 0.9s ease-out forwards;
      z-index: 1200;
    }

    @keyframes heartExplode {
      0% { transform: translate(0,0) scale(1); opacity: 1; }
      100% { transform: translate(var(--dx), var(--dy)) scale(0); opacity: 0; }
    }

    @media (max-width: 768px) {
      body { cursor: auto; }
      .cursor-dot { display: none; }
    }

    @media (min-width: 768px) {
      .hero-title { font-size: 3rem; }
      .hero-subtitle { font-size: 1.05rem; }
      .shayari { font-size: 1.1rem; }
    }

    @media (max-width: 480px) {
      .love-card { padding: 20px 16px 18px; }
      .heart-text-new { font-size: 0.95rem; }
    }
  </style>
</head>
<body class="theme-aurora">

  <!-- Preloader -->
  <div id="preloader">
    <div class="loader-heart">‚ù§Ô∏è</div>
    <div class="loader-text">Loading birthday surprise for Shagun ji‚Ä¶</div>
    <div class="loader-bar"></div>
  </div>

  <!-- Custom cursor -->
  <div class="cursor-dot" id="cursorDot"></div>

  <!-- Secret note overlay (hidden by default) -->
  <div class="secret-note hidden" id="secretNote" style="display:none;">
    <div class="secret-note-inner">
      <h3>Secret Message üîê</h3>
      <p>
        Agar tum yaha tak long-press karke pohonch chuki ho,<br/>
        toh bas itna samajh lo ki<br/>
        tum truly ek special human ho for me. üíõ
      </p>
      <button class="btn small-btn" id="closeSecretNote">Okay üôÇ</button>
    </div>
  </div>

  <div class="birthday-container" id="mainContainer">
    <div class="floating-circle"></div>
    <div class="floating-circle"></div>

    <!-- HERO -->
    <section class="section" id="hero">
      <div class="section-title">üí´ For My Favourite Human üí´</div>
      <h1 class="hero-title" id="heroTitle">
        Happy Birthday <span class="highlight-name">Shagun Ji</span> üéâ
      </h1>
      <p class="hero-subtitle">
        Today is all about you. So I made a tiny corner of the internet that belongs only to
        <span class="highlight-name">you</span> ‚Äî open it whenever you want a smile.
      </p>

      <p class="shayari">
        <span>‚ú®</span><br />
        <strong>
          Laal fool Neela fool,üíù<br />
          Shagun di Beautiful‚ú®<br />
        </strong>
      </p>

      <div class="btn-row">
        <button class="btn" id="btnMessage">
          <span>‚ù§Ô∏è</span> Birthday Message
        </button>
      </div>

      <p class="tagline">
        (Tap the button‚Ä¶ magic awaits üëÄ)
      </p>

      <!-- THEME SWITCHER -->
      <div class="theme-switcher">
        <span class="theme-label">Theme:</span>
        <button class="theme-dot active" data-theme="aurora" title="Aurora"></button>
        <button class="theme-dot" data-theme="cute" title="Cute"></button>
        <button class="theme-dot" data-theme="elegant" title="Elegant"></button>
        <button class="theme-dot" data-theme="pink" title="Pink Glow"></button>
      </div>

      <!-- Countdown -->
      <div class="countdown-wrapper" id="countdownWrapper">
        <div class="countdown-title">Birthday Countdown ‚è≥</div>
        <div class="countdown-grid" id="countdown">
          <div class="count-box">
            <span class="count-num" id="cdDays">00</span>
            <span class="count-label">Days</span>
          </div>
          <div class="count-box">
            <span class="count-num" id="cdHours">00</span>
            <span class="count-label">Hours</span>
          </div>
          <div class="count-box">
            <span class="count-num" id="cdMinutes">00</span>
            <span class="count-label">Minutes</span>
          </div>
          <div class="count-box">
            <span class="count-num" id="cdSeconds">00</span>
            <span class="count-label">Seconds</span>
          </div>
        </div>
        <div class="countdown-finished hidden" id="countdownFinished">
          It‚Äôs your day, Shagun ji! üéâ
        </div>
      </div>

      <!-- Balloons button -->
      <div class="btn-row" style="margin-top:14px;">
        <button class="btn small-btn" id="balloonBtn"><span>üéà</span> Balloons</button>
      </div>
    </section>

    <!-- HEART MESSAGE -->
    <section class="section heart-section hidden" id="messageSection">
      <div class="section-title">From My Heart To Yours üíå</div>

      <div class="love-card">
        <div class="love-card-inner">
          <div class="big-heart-icon">‚ù§Ô∏è</div>
          <div class="heart-heading">A tiny letter for the birthday girl</div>
          <div class="heart-subline">
            (Warning: high level of cringe ahead üòå)
          </div>

          <!-- Magic ink line -->
          <p class="magic-ink" id="magicLine"></p>

          <div class="heart-text-new">
            Sabse pehle toh, <strong>Happy Birthday</strong> to the girl  
            jiski height thodi choti reh gyi. ‚ú®

            Sach batau‚Ä¶ kabhi socha bhi nahi tha ki school me  
            sirf ek-do baar dikh jaane wali ladki  
            kabhi Insta par itni close friend ban jayegi.  
            Matlab ZERO conversations ‚Üí to BEST bonding.  
            Unexpected? Bilkul.
            But also‚Ä¶ one of the best things that happened. ‚ú®

            Pehle toh bas ‚Äúhaan theek hai, ye bhi school me padhti thi‚Äù wala scene tha,  
            par Insta ne kya twist maara ‚Äî  
            ek hi din me vibe match, baatein match,  
            aur pata hi nahi chala kab hum log itne acche dost ban gaye. üò≠ü´Ç

            Teri ek quality jo mujhe sabse zyada pasand hai:
            <strong>tu genuinely badhiya opinion deti hai.üòÖ</strong>
            Chahe woh teacher banke ke gyaan ho,
            shyam baba ki bhakti ho,
            yaa randomly life ke funde ‚Äî  
            tu har topic ko interesting bana deti hai. &&
            blahh blahhh

            Aur haan, ek baat toh fix hai ‚Äî
            <strong>hum log ki dosti bilkul ‚Äúrare edition‚Äù hai.</strong>
            Koi planning nahi, koi expectations nahi‚Ä¶  
            bas ekdum naturally ho gayi.  
            Aur R****V ydd hai naaüíÄ. 

            Waise ek complaint bhi hai‚Ä¶
            <strong>‚ÄúEK BHI PHOTO NAHI HAI YAAR!‚Äù</strong>
            Yeh kya dosti hui bina photo ke?  
            Soon, ek picture toh banta hi hai ‚Äî  
            warna future me log believe hi nahi karenge  
            ki hum kabhi dost the. üò≠üì∏

            On your birthday, bas ye wish hai:
            Teri life me hamesha khushi,  
            peace, positive log,  
            aur woh saari good vibes rahein  
            jo tu honestly deserve karti hai.

            Stay the same ‚Äî  
            real, sweet, thodi si pagli, chirkutt  
            aur full of unexpected wisdom. üòÑ

            Happy Birthday, dost.
            Aur haan‚Ä¶ unexpected things  
            kabhi kabhi zindagi ko beautiful bana hi deti hain. ‚ú®

            With lots of love,  
            <strong>Janwarrrr</strong> üíå
          </div>
        </div>
      </div>

      <p class="message-caption">
        If you ever feel low, come back here and read this again.  
        Same person, same love, always cheering for you. üåà
      </p>

      <!-- Shagun Meter -->
      <div class="meter-card">
        <div class="meter-title">Shagun Meter ‚ú®</div>

        <div class="meter-row">
          <span class="meter-label">Smile</span>
          <div class="meter-bar"><div class="meter-bar-fill" style="--fill: 100%;"></div></div>
          <span class="meter-score">100/100 üòä</span>
        </div>

        <div class="meter-row">
          <span class="meter-label">Vibes</span>
          <div class="meter-bar"><div class="meter-bar-fill" style="--fill: 100%;"></div></div>
          <span class="meter-score">200/100 üî•</span>
        </div>

        <div class="meter-row">
          <span class="meter-label">Height</span>
          <div class="meter-bar"><div class="meter-bar-fill" style="--fill: 40%;"></div></div>
          <span class="meter-score">Short but cute ü§èü§£</span>
        </div>

        <div class="meter-row">
          <span class="meter-label">Advice</span>
          <div class="meter-bar"><div class="meter-bar-fill" style="--fill: 100%;"></div></div>
          <span class="meter-score">100/100 üìò</span>
        </div>

        <div class="meter-row">
          <span class="meter-label">Bonding</span>
          <div class="meter-bar"><div class="meter-bar-fill" style="--fill: 100%;"></div></div>
          <span class="meter-score">‚ôæÔ∏è Infinity</span>
        </div>
      </div>

      <!-- Compliments -->
      <div class="compliments-card">
        <div class="compliments-header">
          <div class="compliments-title">Compliment Mode üíõ</div>
          <button class="btn small-btn" id="toggleCompliments">Tap to Reveal</button>
        </div>
        <div class="compliments-body hidden" id="complimentsBody">
          <div class="compliment-text" id="complimentText"></div>
          <div class="compliment-nav">
            <button class="nav-arrow" id="prevCompliment">‚Äπ</button>
            <div class="dots" id="complimentDots"></div>
            <button class="nav-arrow" id="nextCompliment">‚Ä∫</button>
          </div>
        </div>
      </div>

      <!-- Wish Box -->
      <div class="wish-card">
        <div class="wish-title">Make a Wish üéÇ</div>
        <p class="wish-text">
          Jo bhi wish tum dil se karti ho, yaha likh do.  
          Yeh sirf tumhari screen aur is idiot friend ko pata hoga. üôÇ
        </p>
        <textarea
          id="wishInput"
          class="wish-input"
          placeholder="Yaha apni secret birthday wish likho..."
        ></textarea>
        <div class="wish-footer">
          <button class="btn small-btn" id="saveWishBtn">Lock this wish üîí</button>
          <span class="wish-status" id="wishStatus">Only you know what you wrote.</span>
        </div>
      </div>

      <div class="btn-row">
        <button class="btn" id="btnGifts">
          <span>üéÅ</span> Gifts
        </button>
      </div>
    </section>

    <!-- GIFTS -->
    <section class="section gifts-section hidden" id="giftsSection">
      <div class="section-title">Your Little Gallery of Memories üì∏</div>
      <p class="hero-subtitle">
        Play the song, scroll through the photos, and remember that every picture here
        is a moment I‚Äôm genuinely thankful for. ‚ù§Ô∏è
      </p>

      <!-- Star Rain button -->
      <div class="btn-row" style="margin-bottom: 8px;">
        <button class="btn small-btn" id="starRainBtn">
          <span>‚ú®</span> Star Mode
        </button>
      </div>

      <!-- Secret Puzzle -->
      <div class="puzzle-card">
        <div class="puzzle-title">Secret Birthday Unlock üîê</div>
        <p class="puzzle-text">
          Tap all three lights to unlock a hidden message.
        </p>
        <div class="puzzle-dots" id="puzzleDots">
          <span class="puzzle-dot" data-index="0"></span>
          <span class="puzzle-dot" data-index="1"></span>
          <span class="puzzle-dot" data-index="2"></span>
        </div>
        <div class="puzzle-heart hidden" id="puzzleHeart">‚ù§Ô∏è</div>
        <div class="puzzle-message hidden" id="puzzleMessage">
          Unexpected dosti, unexpected bonding, unexpected happiness ‚Äì  
          bas itna yaad rakhna ki life ke kisi bhi phase me  
          you‚Äôll always have one idiot friend permanently on your side. üíõ
        </div>
      </div>

      <!-- SONG BOX -->
      <div class="audio-box">
        <div class="audio-header-row">
          <div class="audio-pill">Now Playing</div>
          <div class="audio-playing-dot"></div>
        </div>

        <div class="audio-main">
          <div class="audio-icon-circle">
            üéß
          </div>
          <div class="audio-info">
            <div class="audio-title">Ik Kudi ‚Äì Birthday Vibes</div>
            <div class="audio-sub">Special track for Shagun ji üíñ</div>
          </div>
        </div>

        <!-- Replace song.mp3 with your file -->
        <audio id="bgMusic" controls>
          <source src="song.mp3" type="audio/mpeg" />
          Your browser does not support the audio element.
        </audio>
      </div>

      <!-- SLIDESHOW -->
      <div class="slideshow" id="slideshow">
        <div class="slide active">
          <img src="images/photo1.jpg" alt="Slide 1">
          <div class="slide-caption">First vibe check photo ‚Äî full marks. ‚ú®</div>
        </div>
        <div class="slide">
          <img src="images/photo2.jpg" alt="Slide 2">
          <div class="slide-caption">Proof that you make every frame look better. üí´</div>
        </div>
        <div class="slide">
          <img src="images/photo3.jpg" alt="Slide 3">
          <div class="slide-caption">Random day, special human. üì∏</div>
        </div>
        <div class="slide">
          <img src="images/photo4.jpg" alt="Slide 4">
          <div class="slide-caption">Favourite version of you ‚Äî always. üß°</div>
        </div>
      </div>

      <!-- PHOTO GALLERY -->
      <div class="gallery-wrapper">
        <div class="gallery">
          <div class="photo-card">
            <img src="images/photo1.jpg" alt="Memory 1" />
            <div class="photo-caption">
              <span>üåü</span><br />
              Tourr.
            </div>
          </div>

          <div class="photo-card">
            <img src="images/photo2.jpg" alt="Memory 2" />
            <div class="photo-caption">
              <span>Your Bff üí´</span><br />
              Proof that you make every place feel better.
            </div>
          </div>

          <div class="photo-card">
            <img src="images/photo3.jpg" alt="Memory 3" />
            <div class="photo-caption">
              <span>Random Moment üì∑</span><br />
              Not a special day, just a special you.
            </div>
          </div>

          <div class="photo-card">
            <img src="images/photo4.jpg" alt="Memory 4" />
            <div class="photo-caption">
              <span>Favourite Version of You üß°</span><br />
              Thumbs Up.
            </div>
          </div>
        </div>
      </div>

      <p class="footer-note">
        P.S. This page will always stay online. So whenever you‚Äôre sad, open this and
        remember that somewhere, someone is always cheering for you. üåà
      </p>

      <!-- Signature -->
      <div class="signature">
        <span>Made with ‚ù§Ô∏è and thoda sa extra effort by Janwarrr.</span>
      </div>
    </section>
  </div>

  <script>
    const preloader = document.getElementById("preloader");
    const mainContainer = document.getElementById("mainContainer");
    const cursorDot = document.getElementById("cursorDot");

    const btnMessage = document.getElementById("btnMessage");
    const btnGifts = document.getElementById("btnGifts");
    const messageSection = document.getElementById("messageSection");
    const giftsSection = document.getElementById("giftsSection");
    const bgMusic = document.getElementById("bgMusic");

    const countdownEl = document.getElementById("countdown");
    const cdDays = document.getElementById("cdDays");
    const cdHours = document.getElementById("cdHours");
    const cdMinutes = document.getElementById("cdMinutes");
    const cdSeconds = document.getElementById("cdSeconds");
    const countdownFinished = document.getElementById("countdownFinished");

    const toggleCompliments = document.getElementById("toggleCompliments");
    const complimentsBody = document.getElementById("complimentsBody");
    const complimentText = document.getElementById("complimentText");
    const complimentDots = document.getElementById("complimentDots");
    const prevCompliment = document.getElementById("prevCompliment");
    const nextCompliment = document.getElementById("nextCompliment");

    const puzzleDots = document.querySelectorAll(".puzzle-dot");
    const puzzleHeart = document.getElementById("puzzleHeart");
    const puzzleMessage = document.getElementById("puzzleMessage");

    const heroTitle = document.getElementById("heroTitle");
    const secretNote = document.getElementById("secretNote");
    const closeSecretNote = document.getElementById("closeSecretNote");

    const starRainBtn = document.getElementById("starRainBtn");
    const balloonBtn = document.getElementById("balloonBtn");

    const wishInput = document.getElementById("wishInput");
    const saveWishBtn = document.getElementById("saveWishBtn");
    const wishStatus = document.getElementById("wishStatus");

    const magicLine = document.getElementById("magicLine");
    const themeDots = document.querySelectorAll(".theme-dot");

    const slideshow = document.getElementById("slideshow");
    let slideIndex = 0;
    let slideInterval = null;

    window.addEventListener("load", () => {
      if (secretNote) {
        secretNote.classList.add("hidden");
        secretNote.style.display = "none";
      }

      setTimeout(() => {
        preloader.style.opacity = "0";
        preloader.style.pointerEvents = "none";
        mainContainer.classList.add("show");
        setInterval(createSparkle, 900);
        spawnFireflies(10);
      }, 800);

      startCountdown();
      initCompliments();
      loadStoredWish();
      initMagicInk();
      initTheme();
      initSlideshow();
    });

    // Custom cursor
    document.addEventListener("mousemove", (e) => {
      if (!cursorDot) return;
      cursorDot.style.left = e.clientX + "px";
      cursorDot.style.top = e.clientY + "px";
    });

    document.addEventListener("mousedown", () => cursorDot.classList.add("active"));
    document.addEventListener("mouseup", () => cursorDot.classList.remove("active"));

    // Heart particle explosion on click
    document.addEventListener("click", (e) => {
      createHeartExplosion(e.clientX, e.clientY);
    });

    // Birthday Message button
    btnMessage.addEventListener("click", () => {
      messageSection.classList.remove("hidden");
      messageSection.classList.add("visible");

      if (bgMusic) {
        bgMusic.currentTime = 0;
        bgMusic.play().catch((err) => console.log("Autoplay blocked:", err));
      }

      createFloatingHearts();
      messageSection.scrollIntoView({ behavior: "smooth", block: "center" });
    });

    // Gifts button
    btnGifts.addEventListener("click", () => {
      giftsSection.classList.remove("hidden");
      giftsSection.classList.add("visible");
      shootConfetti();
      giftsSection.scrollIntoView({ behavior: "smooth", block: "center" });
    });

    // Countdown
    function startCountdown() {
      const targetDate = new Date("2025-12-16T00:00:00+05:30").getTime();
      let done = false;

      function update() {
        const now = Date.now();
        let diff = targetDate - now;

        if (diff <= 0) {
          if (!done) {
            done = true;
            if (countdownEl && countdownFinished) {
              countdownEl.classList.add("hidden");
              countdownFinished.classList.remove("hidden");
              countdownFinished.classList.add("visible");
              shootConfetti();
            }
          }
          return;
        }

        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        diff -= d * (1000 * 60 * 60 * 24);
        const h = Math.floor(diff / (1000 * 60 * 60));
        diff -= h * (1000 * 60 * 60);
        const m = Math.floor(diff / (1000 * 60));
        diff -= m * (1000 * 60);
        const s = Math.floor(diff / 1000);

        cdDays.textContent = String(d).padStart(2, "0");
        cdHours.textContent = String(h).padStart(2, "0");
        cdMinutes.textContent = String(m).padStart(2, "0");
        cdSeconds.textContent = String(s).padStart(2, "0");
      }

      update();
      setInterval(update, 1000);
    }

    function createFloatingHearts() {
      const heartsCount = 14;
      for (let i = 0; i < heartsCount; i++) {
        const heart = document.createElement("span");
        heart.classList.add("floating-heart");
        heart.textContent = "‚ù§Ô∏è";

        const x = Math.random() * window.innerWidth;
        const delay = Math.random() * 0.8;
        const size = 18 + Math.random() * 14;

        heart.style.left = x + "px";
        heart.style.fontSize = size + "px";
        heart.style.animationDelay = delay + "s";

        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 3000);
      }
    }

    function shootConfetti() {
      for (let i = 0; i < 40; i++) {
        const confetti = document.createElement("div");
        confetti.classList.add("confetti-piece");
        confetti.style.left = Math.random() * window.innerWidth + "px";
        confetti.style.animationDelay = Math.random() * 0.5 + "s";
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 3000);
      }
    }

    function createSparkle() {
      const sparkle = document.createElement("div");
      sparkle.classList.add("sparkle");
      sparkle.style.left = Math.random() * window.innerWidth + "px";
      sparkle.style.top = window.innerHeight + "px";
      document.body.appendChild(sparkle);
      setTimeout(() => sparkle.remove(), 3000);
    }

    function spawnFireflies(count) {
      for (let i = 0; i < count; i++) {
        const firefly = document.createElement("div");
        firefly.classList.add("firefly");
        firefly.style.left = Math.random() * window.innerWidth + "px";
        firefly.style.top = (Math.random() * window.innerHeight * 0.8) + 40 + "px";
        firefly.style.animationDuration = 5 + Math.random() * 4 + "s";
        document.body.appendChild(firefly);
      }
    }

    // Compliments
    const compliments = [
      "You give surprisingly honest advice ‚Äî bina filter, bina drama. üìò",
      "You somehow make boring baatein bhi fun bana deti ho. üòå",
      "You‚Äôre way more wise than you pretend to be. üß†",
      "Talking to you feels easy‚Ä¶ no overthinking, just comfort. ‚òï",
      "This bonding is seriously rare edition ‚Äî no copy available. ‚ôæÔ∏è"
    ];
    let currentCompliment = 0;

    function renderCompliment() {
      complimentText.textContent = compliments[currentCompliment];
      complimentDots.innerHTML = "";
      compliments.forEach((c, idx) => {
        const dot = document.createElement("div");
        dot.classList.add("dot");
        if (idx === currentCompliment) dot.classList.add("active");
        complimentDots.appendChild(dot);
      });
    }

    function initCompliments() {
      toggleCompliments.addEventListener("click", () => {
        const isHidden = complimentsBody.classList.contains("hidden");
        if (isHidden) {
          complimentsBody.classList.remove("hidden");
          complimentsBody.classList.add("visible");
          toggleCompliments.textContent = "Hide Compliments";
          currentCompliment = 0;
          renderCompliment();
        } else {
          complimentsBody.classList.add("hidden");
          complimentsBody.classList.remove("visible");
          toggleCompliments.textContent = "Tap to Reveal";
        }
      });

      prevCompliment.addEventListener("click", () => {
        currentCompliment = (currentCompliment - 1 + compliments.length) % compliments.length;
        renderCompliment();
      });

      nextCompliment.addEventListener("click", () => {
        currentCompliment = (currentCompliment + 1) % compliments.length;
        renderCompliment();
      });
    }

    // Secret puzzle
    let puzzleUnlocked = false;
    puzzleDots.forEach(dot => {
      dot.addEventListener("click", () => {
        dot.classList.add("active");
        const allActive = Array.from(puzzleDots).every(d => d.classList.contains("active"));
        if (allActive && !puzzleUnlocked) {
          puzzleUnlocked = true;
          puzzleHeart.classList.remove("hidden");
          puzzleHeart.classList.add("visible");
          puzzleMessage.classList.remove("hidden");
          puzzleMessage.classList.add("visible");
          createFloatingHearts();
        }
      });
    });

    // Star rain
    if (starRainBtn) {
      starRainBtn.addEventListener("click", () => {
        for (let i = 0; i < 45; i++) {
          const star = document.createElement("div");
          star.classList.add("star");
          star.style.left = Math.random() * window.innerWidth + "px";
          star.style.animationDelay = Math.random() * 0.6 + "s";
          document.body.appendChild(star);
          setTimeout(() => star.remove(), 2000);
        }
      });
    }

    // Balloons with wavy string
    if (balloonBtn) {
      balloonBtn.addEventListener("click", () => {
        const colors = [
          "linear-gradient(135deg, #FF9A9E, #FECFEF)",
          "linear-gradient(135deg, #A18CD1, #FBC2EB)",
          "linear-gradient(135deg, #F6D365, #FDA085)",
          "linear-gradient(135deg, #84FAB0, #8FD3F4)",
          "linear-gradient(135deg, #FFDEE9, #B5FFFC)",
          "linear-gradient(135deg, #FAD0C4, #FFD1FF)"
        ];

        for (let i = 0; i < 10; i++) {
          const balloon = document.createElement("div");
          balloon.classList.add("balloon");

          const x = 10 + Math.random() * 80;
          balloon.style.left = x + "vw";

          balloon.style.setProperty("--balloon-color", colors[Math.floor(Math.random() * colors.length)]);

          const scale = 0.8 + Math.random() * 0.6;
          balloon.style.transform = `scale(${scale})`;

          balloon.style.animationDuration = 5 + Math.random() * 3 + "s";

          // WAVY STRING
          const string = document.createElement("div");
          string.classList.add("balloon-string");
          string.innerHTML = `
            <svg>
              <path d="M0 0 Q -5 20 0 40 T 0 70"></path>
            </svg>
          `;
          balloon.appendChild(string);

          document.body.appendChild(balloon);
          setTimeout(() => balloon.remove(), 9000);
        }
      });
    }

    // Secret long-press on hero title
    let pressTimer;
    function openSecret() {
      if (!secretNote) return;
      secretNote.classList.remove("hidden");
      secretNote.style.display = "flex";
    }
    function startPressTimer() {
      pressTimer = setTimeout(openSecret, 1200);
    }
    function clearPressTimer() {
      clearTimeout(pressTimer);
    }

    if (heroTitle) {
      heroTitle.addEventListener("mousedown", startPressTimer);
      heroTitle.addEventListener("mouseup", clearPressTimer);
      heroTitle.addEventListener("mouseleave", clearPressTimer);

      heroTitle.addEventListener("touchstart", (e) => {
        e.preventDefault();
        startPressTimer();
      }, { passive: false });
      heroTitle.addEventListener("touchend", clearPressTimer);
      heroTitle.addEventListener("touchcancel", clearPressTimer);
    }

    if (closeSecretNote && secretNote) {
      closeSecretNote.addEventListener("click", () => {
        secretNote.classList.add("hidden");
        secretNote.style.display = "none";
      });

      secretNote.addEventListener("click", (e) => {
        if (e.target === secretNote) {
          secretNote.classList.add("hidden");
          secretNote.style.display = "none";
        }
      });
    }

    // Floating text messages on scroll
    const floatMessages = [
      "Unexpected bonding >>>>",
      "Tum hastae ho toh mood better ho jata hai. üí´",
      "Best teacher + best dost combo. üìö",
      "Shyam baba bhakt spotted. üôè",
      "Rare edition friendship, no copy. ‚ôæÔ∏è",
      "Insta ne sahi kaam kar diya yrr. üòå"
    ];
    let lastMsgTime = 0;
    window.addEventListener("scroll", () => {
      const now = Date.now();
      if (now - lastMsgTime < 900) return;
      if (Math.random() < 0.25) {
        lastMsgTime = now;
        createFloatingMsg();
      }
    });

    function createFloatingMsg() {
      const msg = document.createElement("div");
      msg.classList.add("floating-msg");
      msg.textContent = floatMessages[Math.floor(Math.random() * floatMessages.length)];

      const x = 40 + Math.random() * (window.innerWidth - 140);
      const y = 80 + Math.random() * (window.innerHeight - 200);
      msg.style.left = x + "px";
      msg.style.top = y + "px";

      document.body.appendChild(msg);
      setTimeout(() => msg.remove(), 2200);
    }

    // Wish box (localStorage)
    function loadStoredWish() {
      if (!wishInput || !wishStatus) return;
      try {
        const stored = localStorage.getItem("shagun_bday_wish");
        if (stored) {
          wishInput.value = stored;
          wishStatus.textContent = "Wish saved safely (sirf tumhari screen & browser me). üîí";
        }
      } catch (e) {
        console.log("Storage blocked:", e);
      }
    }

    if (saveWishBtn && wishInput && wishStatus) {
      saveWishBtn.addEventListener("click", () => {
        const val = wishInput.value.trim();
        if (!val) {
          wishStatus.textContent = "Pehle wish toh likho na, phir lock karenge. üôÇ";
          return;
        }
        try {
          localStorage.setItem("shagun_bday_wish", val);
          wishStatus.textContent = "Wish locked. Hope it comes true jaldi. üí´";
        } catch (e) {
          wishStatus.textContent = "Wish saved for now ‚Äî storage blocked ho sakta hai. üíõ";
        }
      });
    }

    // Magic ink effect
    function initMagicInk() {
      if (!magicLine) return;
      const text = "School me bas sirf dekhne tak limited the‚Ä¶ Insta ne full unexpected bonding kara di. üíå";
      let idx = 0;
      magicLine.textContent = "";
      const interval = setInterval(() => {
        magicLine.textContent += text.charAt(idx);
        idx++;
        if (idx >= text.length) clearInterval(interval);
      }, 40);
    }

    // Theme switcher
    function setTheme(theme) {
      document.body.classList.remove("theme-aurora", "theme-cute", "theme-elegant", "theme-pink");
      document.body.classList.add("theme-" + theme);
      themeDots.forEach(dot => {
        dot.classList.toggle("active", dot.dataset.theme === theme);
      });
      try {
        localStorage.setItem("shagun_theme", theme);
      } catch (e) {}
    }

    function initTheme() {
      let saved = null;
      try {
        saved = localStorage.getItem("shagun_theme");
      } catch (e) {}
      if (saved) {
        setTheme(saved);
      } else {
        setTheme("aurora");
      }

      themeDots.forEach(dot => {
        dot.addEventListener("click", () => {
          const t = dot.dataset.theme;
          setTheme(t);
        });
      });
    }

    // Slideshow
    function initSlideshow() {
      if (!slideshow) return;
      const slides = slideshow.querySelectorAll(".slide");
      if (!slides.length) return;
      slides.forEach((s, i) => s.classList.toggle("active", i === 0));
      slideIndex = 0;

      slideInterval = setInterval(() => {
        slides[slideIndex].classList.remove("active");
        slideIndex = (slideIndex + 1) % slides.length;
        slides[slideIndex].classList.add("active");
      }, 4000);
    }

    // Heart explosion
    function createHeartExplosion(x, y) {
      const count = 10;
      for (let i = 0; i < count; i++) {
        const heart = document.createElement("span");
        heart.classList.add("heart-particle");
        heart.textContent = "‚ù§Ô∏è";
        const angle = (Math.PI * 2 * i) / count;
        const distance = 40 + Math.random() * 30;
        const dx = Math.cos(angle) * distance;
        const dy = Math.sin(angle) * distance;
        heart.style.left = x + "px";
        heart.style.top = y + "px";
        heart.style.setProperty("--dx", dx + "px");
        heart.style.setProperty("--dy", dy + "px");
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 900);
      }
    }
  </script>
</body>
</html>
